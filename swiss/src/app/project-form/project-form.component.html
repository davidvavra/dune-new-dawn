<form [formGroup]="projectForm" appFireForm [path]="path" (stateChange)="changeHandler($event)">
    <mat-form-field class="text">
        <input matInput placeholder="Název" type="text" formControlName="name" />
    </mat-form-field>&nbsp;
    <mat-form-field class="text">
        <input matInput placeholder="Klíčové slovo" type="text" formControlName="keyword" />
    </mat-form-field>&nbsp;
    <mat-form-field class="number">
        <input matInput placeholder="Cena BV" type="number" formControlName="df" />
    </mat-form-field>&nbsp;
    <mat-form-field class="number">
        <input matInput placeholder="Primární akce" type="number" formControlName="mainActions" />
    </mat-form-field>&nbsp;
    <mat-form-field>
        <mat-label>Typ</mat-label>
        <mat-select formControlName="type">
            <mat-option *ngFor="let type of types" value="{{type.value}}">
                {{type.name}}
            </mat-option>
        </mat-select>
    </mat-form-field>&nbsp;
    <mat-form-field *ngIf="projectForm.controls.type.value == 'delegation'">
        <mat-label>Delegace</mat-label>
        <mat-select formControlName="delegation">
            <mat-option *ngFor="let delegation of delegations | async" value="{{delegation.value}}">
                {{delegation.name}}
            </mat-option>
        </mat-select>
    </mat-form-field>
    <mat-form-field *ngIf="projectForm.controls.type.value == 'delegate'">
        <mat-label>Delegát</mat-label>
        <mat-select formControlName="delegate">
            <mat-option *ngFor="let delegate of delegates | async" value="{{delegate.value}}">
                {{delegate.name}}
            </mat-option>
        </mat-select>
    </mat-form-field>&nbsp;
    {{ state }} &nbsp;
    <button mat-stroked-button color="accent" (click)="delete()">
        Smazat
    </button>
</form>